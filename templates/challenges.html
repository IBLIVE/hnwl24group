<!-- challenges.html -->
{% extends "base.html" %}

{% block title %}Challenges{% endblock %}

{% block content %}
<style>
    body {
        font-family: Arial, sans-serif; /* Set font family to Arial with fallback to sans-serif */
        color: #FFF7A2; /* Set text color */
    }

    button {
        font-size: 20px; /* Adjust font size as needed */
    }

    h1 {
        padding: 20px;
        list-style-type: none;
        padding: 0;
    }

    ul {
        padding: 0;
    }

    li {
        list-style-type: none;
    }

    /* Additional styling for links and buttons */
    a, button {
        color: inherit; /* Inherit text color */
        text-decoration: none;
        background: none;
        border: none;
        cursor: pointer;
    }

    button:hover {
        text-decoration: underline;
    }

    .challenge-image {
        width: 60px; /* Set the width to create a square */
        height: 60px; /* Set the height to match the width */
        object-fit: cover; /* Maintain aspect ratio and cover container */
        border-radius: 5px; /* Optional: Add rounded corners */
    }

    /* Modal dialog styles */
    .modal {
        display: none; /* Hide the modal by default */
        position: fixed; /* Position the modal relative to the viewport */
        z-index: 1; /* Set z-index to appear above other elements */
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto; /* Enable scrolling if modal content exceeds viewport */
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black background */
    }

    .modal-content {
        background-color: #333; /* Set background color of modal content */
        margin: 15% auto; /* Center modal vertically and horizontally */
        padding: 20px;
        border-radius: 5px;
        width: 70%; /* Set width of modal content */
        height: 70%;
    }

    .close {
        color: #aaa; /* Set color of close button */
        float: right; /* Float the close button to the right */
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black; /* Change color of close button on hover or focus */
        text-decoration: none; /* Remove underline on hover */
        cursor: pointer;
    }
</style>

<h1>Challenges</h1>
<ul>
    {% for challenge in challenges %}
    <li>
        <button type="button" onclick="openModal('{{ challenge.id }}')">
            <a href="/challenges/{{ challenge.id }}" ><img class="challenge-image" src="{{ url_for('static', filename=challenge.imageurl) }}" alt="Challenge Image" width="auto" height="60"></a>
            <strong>{{ challenge.title }}</strong>.
            <span>{{ challenge.level }}</span>.
            <span>Points: {{ challenge.reward }}</span>
        </button>
        <div id="modal-{{ challenge.id }}" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('{{ challenge.id }}')">&times;</span>
                <p>{{ challenge.description }}</p> <!-- Additional information -->
            </div>
        </div>
    </li>
    {% endfor %}
</ul>

<script>
    function openModal(challengeId) {
        var modal = document.getElementById('modal-' + challengeId);
        modal.style.display = 'block'; // Show modal
    }

    function closeModal(challengeId) {
        var modal = document.getElementById('modal-' + challengeId);
        modal.style.display = 'none'; // Hide modal
    }
</script>

{% endblock %}